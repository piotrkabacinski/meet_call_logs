(()=>{var l={storageKey:"meet_sessions",pageTitlePrefix:"Meet \u2013"};{let{storageKey:t}=l,o,r=new MutationObserver(()=>{let a=Array.from(document.querySelectorAll("i")).find(e=>e.innerText==="call_end");if(!a)return;let i=a.parentElement;if(!i)throw"End of call button not found";o=new Date().toISOString();let s=document.querySelector("[data-meeting-title]"),c=location.pathname.replace("/","");i.addEventListener("click",async()=>{let e={id:crypto.randomUUID(),title:s?s.getAttribute("data-meeting-title").trim():c,meetId:c,startDateTime:o,endDateTime:new Date().toISOString()},n=await chrome.storage.local.get(t);if(!n[t]){await chrome.storage.local.set({[t]:[e]});return}n[t].push(e),await chrome.storage.local.set({[t]:n[t]})}),r.disconnect()});r.observe(document.body,{attributes:!1,childList:!0,subtree:!0})}})();
