(()=>{var d={storageKey:"meet_sessions"};{let{storageKey:e}=d,o=t=>{if(t.parentElement.nodeName==="BUTTON")return t.parentElement;if(t.parentElement)return o(t.parentElement)},a,i=new MutationObserver(()=>{let t=Array.from(document.querySelectorAll("i")).find(n=>n.innerText==="call_end");if(!t)return;let s=o(t.parentElement);if(!s)throw"End of call button not found";a=new Date().toISOString();let c=document.querySelector("[data-meeting-title]"),l=location.pathname.replace("/","");s.addEventListener("click",async()=>{let n={id:crypto.randomUUID(),title:c?c.getAttribute("data-meeting-title").trim():l,meetId:l,startDateTime:a,endDateTime:new Date().toISOString()},r=await chrome.storage.local.get(e);if(!r[e]){await chrome.storage.local.set({[e]:[n]});return}r[e].push(n),await chrome.storage.local.set({[e]:r[e]})}),i.disconnect()});i.observe(document.body,{attributes:!1,childList:!0,subtree:!0})}})();
